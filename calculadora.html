<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, inicial-scale=1.0">
    <link rel="stylesheet" type="text/css" href=layoutcalculadora.css>
    <title>calculadora</title>
</head>

<body>
    <div class="tudo">
        <h1 class="h1">CALCULADORA</h1>

    </div>
    <div class="calculadora">
        <textarea id="vizualizador" disabled></textarea>
        <br>
        <br>
        <p id="resultado"></p><br>
        <table>
            <tr>
                <td><button class="botao" onclick="clicarOperador('/')">/</button></td>
                <td><button class="botao" onclick="clicarOperador('*')">X</button></td>
                <td><button class="botao" onclick="clicarOperador('%')">%</button></td>
                <td><button class="botao" onclick="limpar()">AC</button></td>
            </tr>
            <tr>
                <td><button class="botao" onclick="clicar('7')">7</button></td>
                <td><button class="botao" onclick="clicar('8')">8</button></td>
                <td><button class="botao" onclick="clicar('9')">9</button></td>
                <td><button class="botao" onclick="clicarOperador('-')">-</button></td>
            </tr>
            <tr>
                <td><button class="botao" onclick="clicar('4')">4</button></td>
                <td><button class="botao" onclick="clicar('5')">5</button></td>
                <td><button class="botao" onclick="clicar('6')">6</button></td>
                <td><button class="botao" onclick="clicarOperador('+')">+</button></td>
            </tr>
            <tr>
                <td><button class="botao" onclick="clicar('1')">1</button></td>
                <td><button class="botao" onclick="clicar('2')">2</button></td>
                <td><button class="botao" onclick="clicar('3')">3</button></td>
                <td rowspan="2"><button class="botao" style="height: 101px" onclick="conta()">=</button>
                </td>
            </tr>
            <tr>
                <td colspan="3"><button class="botao" style="width: 150px" onclick="clicar('0')">0</button></td>
            </tr>
        </table>
    </div>
    <script>
        let comecar = 0;
        let comecaroperador = 0;
        var digitado;
        const size = 100;
        var numOpe = new Array(size);


        function clicar(x) {
            var num = new Array(size);
            numero = document.getElementById("resultado").innerHTML;
            digitado = document.getElementById("resultado").innerHTML = numero + x;

            if (comecar < size) {
                num[comecar] = x;
                comecar++;
            } else {
                alert("Pilha estourada!");
            }
        }
        function clicarOperador(x) {
            var operador = document.getElementById("vizualizador").innerHTML;
            document.getElementById("vizualizador").innerHTML = operador + digitado + "\n" + x;
            if (comecaroperador < size) {
                numOpe[comecaroperador] = x;
                comecaroperador++;

                if (x === "=") {
                    igual();
                }
            } else {
                alert("Pilha estourada!");
            }
            document.getElementById("resultado").innerHTML = " ";
        }

        function limpar() {
            document.getElementById("resultado").innerHTML = " ";
            document.getElementById("vizualizador").innerHTML = " ";
        }

        function conta() {
            var caixa = document.getElementById("vizualizador").innerHTML;
            document.getElementById("vizualizador").innerHTML = caixa + digitado;
            document.getElementById("resultado").innerHTML = "";
            var total = document.getElementById("vizualizador").innerHTML;
            document.getElementById("resultado").innerHTML = eval(total);

        }
    </script>
</body>

</html>